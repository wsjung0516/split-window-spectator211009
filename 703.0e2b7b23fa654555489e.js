(()=>{"use strict";function w(r){return"function"==typeof r}let A=!1;const f={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else A&&console.log("RxJS: Back to a better error behavior. Thank you. <3");A=r},get useDeprecatedSynchronousErrorHandling(){return A}};function y(r){setTimeout(()=>{throw r},0)}const S={closed:!0,next(r){},error(r){if(f.useDeprecatedSynchronousErrorHandling)throw r;y(r)},complete(){}},z=Array.isArray||(r=>r&&"number"==typeof r.length);function R(r){return null!==r&&"object"==typeof r}const T=(()=>{function r(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,n)=>`${n+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return r.prototype=Object.create(Error.prototype),r})();class a{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof a)e.remove(this);else if(null!==e)for(let s=0;s<e.length;++s)e[s].remove(this);if(w(i)){n&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){t=s instanceof T?$(s.errors):[s]}}if(z(o)){let s=-1,c=o.length;for(;++s<c;){const p=o[s];if(R(p))try{p.unsubscribe()}catch(_){t=t||[],_ instanceof T?t=t.concat($(_.errors)):t.push(_)}}}if(t)throw new T(t)}add(t){let e=t;if(!t)return a.EMPTY;switch(typeof t){case"function":e=new a(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof a)){const o=e;e=new a,e._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof a){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[e]:i.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var r;function $(r){return r.reduce((t,e)=>t.concat(e instanceof T?e.errors:e),[])}a.EMPTY=((r=new a).closed=!0,r);const P="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class u extends a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=S;break;case 1:if(!t){this.destination=S;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new F(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new F(this,t,e,n)}}[P](){return this}static create(t,e,n){const i=new u(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class F extends u{constructor(t,e,n,i){super(),this._parentSubscriber=t;let o,s=this;w(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==S&&(s=Object.create(e),w(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;f.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=f;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):y(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;y(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);f.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),f.useDeprecatedSynchronousErrorHandling)throw n;y(n)}}__tryOrSetError(t,e,n){if(!f.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return f.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(y(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const E="function"==typeof Symbol&&Symbol.observable||"@@observable";function ct(r){return r}function L(...r){return U(r)}function U(r){return 0===r.length?ct:1===r.length?r[0]:function(e){return r.reduce((n,i)=>i(n),e)}}let l=(()=>{class r{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const n=new r;return n.source=this,n.operator=e,n}subscribe(e,n,i){const{operator:o}=this,s=function(r,t,e){if(r){if(r instanceof u)return r;if(r[P])return r[P]()}return r||t||e?new u(r,t,e):new u(S)}(e,n,i);if(s.add(o?o.call(s,this.source):this.source||f.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),f.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(n){f.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=n),function(r){for(;r;){const{closed:t,destination:e,isStopped:n}=r;if(t||n)return!1;r=e&&e instanceof u?e:null}return!0}(e)?e.error(n):console.warn(n)}}forEach(e,n){return new(n=N(n))((i,o)=>{let s;s=this.subscribe(c=>{try{e(c)}catch(p){o(p),s&&s.unsubscribe()}},o,i)})}_subscribe(e){const{source:n}=this;return n&&n.subscribe(e)}[E](){return this}pipe(...e){return 0===e.length?this:U(e)(this)}toPromise(e){return new(e=N(e))((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return r.create=t=>new r(t),r})();function N(r){if(r||(r=f.Promise||Promise),!r)throw new Error("no Promise impl found");return r}const ut=new l(r=>r.complete());function H(r){return r?function(r){return new l(t=>r.schedule(()=>t.complete()))}(r):ut}const W=r=>t=>{for(let e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.complete()};function C(r,t){return new l(e=>{const n=new a;let i=0;return n.add(t.schedule(function(){i!==r.length?(e.next(r[i++]),e.closed||n.add(this.schedule())):e.complete()})),n})}function K(...r){let t=r[r.length-1];return function(r){return r&&"function"==typeof r.schedule}(t)?(r.pop(),C(r,t)):function(r,t){return new l(W(r))}(r)}class h{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return K(this.value);case"E":return function(r,t){return new l(e=>e.error(r))}(this.error);case"C":return H()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new h("N",t):h.undefinedValueNotification}static createError(t){return new h("E",void 0,t)}static createComplete(){return h.completeNotification}}h.completeNotification=new h("C"),h.undefinedValueNotification=new h("N",void 0);const k="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Y=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function J(r){return!!r&&"function"!=typeof r.subscribe&&"function"==typeof r.then}const j=r=>{if(r&&"function"==typeof r[E])return(r=>t=>{const e=r[E]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(r);if(Y(r))return W(r);if(J(r))return(r=>t=>(r.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,y),t))(r);if(r&&"function"==typeof r[k])return(r=>t=>{const e=r[k]();for(;;){let n;try{n=e.next()}catch(i){return t.error(i),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(r);{const e=`You provided ${R(r)?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function m(r,t){return t?function(r,t){if(null!=r){if(function(r){return r&&"function"==typeof r[E]}(r))return function(r,t){return new l(e=>{const n=new a;return n.add(t.schedule(()=>{const i=r[E]();n.add(i.subscribe({next(o){n.add(t.schedule(()=>e.next(o)))},error(o){n.add(t.schedule(()=>e.error(o)))},complete(){n.add(t.schedule(()=>e.complete()))}}))})),n})}(r,t);if(J(r))return function(r,t){return new l(e=>{const n=new a;return n.add(t.schedule(()=>r.then(i=>{n.add(t.schedule(()=>{e.next(i),n.add(t.schedule(()=>e.complete()))}))},i=>{n.add(t.schedule(()=>e.error(i)))}))),n})}(r,t);if(Y(r))return C(r,t);if(function(r){return r&&"function"==typeof r[k]}(r)||"string"==typeof r)return function(r,t){if(!r)throw new Error("Iterable cannot be null");return new l(e=>{const n=new a;let i;return n.add(()=>{i&&"function"==typeof i.return&&i.return()}),n.add(t.schedule(()=>{i=r[k](),n.add(t.schedule(function(){if(e.closed)return;let o,s;try{const c=i.next();o=c.value,s=c.done}catch(c){return void e.error(c)}s?e.complete():(e.next(o),this.schedule())}))})),n})}(r,t)}throw new TypeError((null!==r&&typeof r||r)+" is not observable")}(r,t):r instanceof l?r:new l(j(r))}function g(r,t){return function(n){if("function"!=typeof r)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Tt(r,t))}}class Tt{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new kt(t,this.project,this.thisArg))}}class kt extends u{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function q(r,t,e,n){return w(e)&&(n=e,e=void 0),n?q(r,t,e).pipe(g(i=>z(i)?n(...i):n(i))):new l(i=>{B(r,t,function(s){i.next(arguments.length>1?Array.prototype.slice.call(arguments):s)},i,e)})}function B(r,t,e,n,i){let o;if(function(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(r)){const s=r;r.addEventListener(t,e,i),o=()=>s.removeEventListener(t,e,i)}else if(function(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(r)){const s=r;r.on(t,e),o=()=>s.off(t,e)}else if(function(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(r)){const s=r;r.addListener(t,e),o=()=>s.removeListener(t,e)}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(let s=0,c=r.length;s<c;s++)B(r[s],t,e,n,i)}n.add(o)}function M(r,t){return function(n){return n.lift(new Ct(r,t))}}class Ct{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Mt(t,this.predicate,this.thisArg))}}class Mt extends u{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class Vt{call(t,e){return e.subscribe(new Dt(t))}}class Dt extends u{constructor(t){super(t)}_next(t){t.observe(this.destination)}}class Q extends u{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class X extends u{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function G(r,t){if(t.closed)return;if(r instanceof l)return r.subscribe(t);let e;try{e=j(r)(t)}catch(n){t.error(n)}return e}function v(r,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?n=>n.pipe(v((i,o)=>m(r(i,o)).pipe(g((s,c)=>t(i,s,o,c))),e)):("number"==typeof t&&(e=t),n=>n.lift(new Ot(r,e)))}class Ot{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new zt(t,this.project,this.concurrent))}}class zt extends X{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Q(this),n=this.destination;n.add(e);const i=G(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Z(){return function(t){return t.lift(new $t)}}class $t{call(t,e){return e.subscribe(new Ft(t))}}class Ft extends u{constructor(t){super(t)}_next(t){this.destination.next(h.createNext(t))}_error(t){const e=this.destination;e.next(h.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(h.createComplete()),t.complete()}}function V(r,t){return"function"==typeof t?e=>e.pipe(V((n,i)=>m(r(n,i)).pipe(g((o,s)=>t(n,o,i,s))))):e=>e.lift(new Wt(r))}class Wt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Kt(t,this.project))}}class Kt extends X{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Q(this),i=this.destination;i.add(n),this.innerSubscription=G(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function et(r,t){let e=!1;return arguments.length>=2&&(e=!0),function(i){return i.lift(new Yt(r,t,e))}}class Yt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Jt(t,this.accumulator,this.seed,this.hasSeed))}}class Jt extends u{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}const jt=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();function D(r){return function(e){return 0===r?H():e.lift(new qt(r))}}class qt{constructor(t){if(this.total=t,this.total<0)throw new jt}call(t,e){return e.subscribe(new Bt(t,this.total))}}class Bt extends u{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let o=0;o<n;o++){const s=e++%n;t.next(i[s])}}t.complete()}}function Qt(r=null){return t=>t.lift(new Xt(r))}class Xt{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Gt(t,this.defaultValue))}}class Gt extends u{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function te(r,t,e){return 0===e?[t]:(r.push(t),r)}function rt(){return function(r,t){return arguments.length>=2?function(n){return L(et(r,t),D(1),Qt(t))(n)}:function(n){return L(et((i,o,s)=>r(i,o,s+1)),D(1))(n)}}(te,[])}function b(){}class re{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new ne(t,this.nextOrObserver,this.error,this.complete))}}class ne extends u{constructor(t,e,n,i){super(t),this._tapNext=b,this._tapError=b,this._tapComplete=b,this._tapError=n||b,this._tapComplete=i||b,w(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||b,this._tapError=e.error||b,this._tapComplete=e.complete||b)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}!function(r){const t=new r,e=q(self,"message");(function(r,t){const e=t.pipe(g(n=>n.data),g(n=>new h(n.kind,n.value,n.error)),M(n=>"C"!==n.kind),function(t){return t.lift(new Vt)});return function(r){return!!r.workUnit}(r)?e.pipe(function(r,t){return v(r,void 0,1)}(n=>m(r.workUnit(n)).pipe(Z()))):r.work(e).pipe(Z())})(t,e).subscribe(n=>{const i=postMessage;(function(r){return!!r.selectTransferables})(t)&&n.hasValue?i(n,t.selectTransferables(n.value)):i(n)})}(class{work(t){return t.pipe(V(e=>{let n=e.req;return 0===e.urls.filter(i=>i.category===e.category).length?K(e.req):m(e.urls).pipe(M(i=>i.category===e.category),rt(),V(i=>m(i).pipe(v(o=>m(n).pipe(M(s=>s.url!==o.url),rt())),function(r,t,e){return function(i){return i.lift(new re(r,undefined,undefined))}}(o=>n=o),D(1))))}))}})})();